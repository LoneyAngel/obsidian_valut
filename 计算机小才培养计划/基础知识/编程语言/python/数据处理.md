# 一.Numpy

`NumPy` 是 Python 中用于科学计算的一个库，提供了多维数组对象、派生对象（如掩码数组和矩阵）以及用于快速操作数组的例程，包括数学、逻辑、形状操作、排序、选择、I/O、离散傅里叶变换、基本线性代数、基本统计运算、随机模拟等等。

以下是一些常见的 `NumPy` 操作示例：

### 1. 导入 NumPy
### 2. 创建数组

#### 创建一维数组

```python
# 使用列表创建一维数组
a = np.array([1, 2, 3, 4, 5])
print(a)

# 创建全为0的数组
b = np.zeros(5)
print(b)

# 创建全为1的数组
c = np.ones(5)
print(c)

# 创建等差数列
d = np.arange(10)
print(d)

# 创建等间隔的数组
e = np.linspace(0, 1, 5)  # 从0到1，生成5个数
print(e)
```

#### 创建二维数组

```python
# 使用列表的列表创建二维数组
f = np.array([[1, 2, 3], [4, 5, 6]])
print(f)

# 创建全为0的二维数组
g = np.zeros((3, 4))
print(g)

# 创建全为1的二维数组
h = np.ones((3, 4))
print(h)

# 创建随机数数组
i = np.random.rand(3, 4)  # 生成3x4的随机数组
print(i)
```

### 3. 数组的基本属性

```python
# 形状
print(a.shape)

# 维度
print(a.ndim)

# 元素总数
print(a.size)

# 数据类型
print(a.dtype)
```

### 4. 数组索引和切片

#### 一维数组

```python
# 索引
print(a[0])  # 第一个元素

# 切片
print(a[1:3])  # 从索引1到索引3（不包括3）
```

#### 二维数组

```python
# 索引
print(f[0, 1])  # 第一行第二列的元素

# 切片
print(f[0, :])  # 第一行的所有元素
print(f[:, 1])  # 所有行的第二列
```

### 5. 数组的基本运算

#### 元素级运算

```python
# 加法
print(a + a)

# 减法
print(a - a)

# 乘法
print(a * a)

# 除法
print(a / a)
```

#### 矩阵运算


```python
# 矩阵乘法
j = np.array([[1, 2], [3, 4]])
k = np.array([[5, 6], [7, 8]])
print(np.dot(j, k))  # 矩阵乘法
```

### 6. 数组的统计方法

```python
# 求和
print(a.sum())

# 平均值
print(a.mean())

# 标准差
print(a.std())

# 最大值
print(a.max())

# 最小值
print(a.min())

# 累积和
print(a.cumsum())
```

### 7. 数组的形状操作

#### 改变形状


```python
# 改变数组形状
l = np.arange(12).reshape(3, 4)
print(l)
```

#### 转置
```python
# 转置
print(l.T)
```

### 8. 条件索引


```python
# 条件索引
m = np.array([1, -1, 2, -2, 3, -3])
print(m[m > 0])  # 选择所有正数
```

### 9. 保存和加载数组

#### 保存数组


```python
# 保存数组
np.save('my_array', a)
```

#### 加载数组


```python
# 加载数组
b = np.load('my_array.npy')
print(b)
```

### 10. 随机数生成


```python
# 生成随机数
n = np.random.rand(3, 4)  # 生成3x4的随机数组
print(n)

# 生成正态分布随机数
o = np.random.randn(3, 4)  # 生成3x4的正态分布随机数组
print(o)
```



# 二.Pandas
`pandas` 提供了大量功能强大的函数，用于数据处理和分析。以下是一些常见的 `pandas` 函数及其用途：

### 1. 数据读取和写入

- **`pd.read_csv()`**：从 CSV 文件读取数据。
- **`pd.read_excel()`**：从 Excel 文件读取数据。
- **`pd.read_sql()`**：从 SQL 数据库读取数据。

- **`pd.read_json()`**：从 JSON 文件读取数据。
- **`pd.read_html()`**：从 HTML 文件读取数据。

- **`df.to_csv()`**：将 DataFrame 保存为 CSV 文件。
- **`df.to_excel()`**：将 DataFrame 保存为 Excel 文件。
- **`df.to_sql()`**：将 DataFrame 保存到 SQL 数据库。
- **`df.to_json()`**：将 DataFrame 保存为 JSON 文件。
    
### 2. 数据查看和信息

- **`df.head()`**：查看 DataFrame 的前几行（默认前5行）。
- **`df.tail()`**：查看 DataFrame 的后几行（默认后5行）。
- **`df.info()`**：查看 DataFrame 的基本信息，包括数据类型、内存使用情况等。
    
- **`df.describe()`**：查看 DataFrame 的统计信息，如均值、标准差、最小值、最大值等。
- **`df.shape`**：查看 DataFrame 的形状（行数和列数）。
- **`df.columns`**：查看 DataFrame 的列名。
    
- **`df.index`**：查看 DataFrame 的索引。
- **`df.dtypes`**：查看 DataFrame 的数据类型。
    
### 3. 数据选择

- **`df.loc[]`**：按标签选择数据。
- **`df.iloc[]`**：按位置选择数据。
- **`df.at[]`**：按标签选择单个值。
- **`df.iat[]`**：按位置选择单个值。
- **`df.query()`**：使用查询语句选择数据。


    
### 4. 数据筛选和条件选择（含缺失值的处理）

- **`df[df['column'] > value]`**：按条件筛选数据。
- **`df[(df['column1'] > value1) & (df['column2'] < value2)]`**：按多个条件筛选数据。
    
- **`df.isnull()`**：查找 DataFrame 中的缺失值。
- **`df.notnull()`**：查找 DataFrame 中的非缺失值。
- **`df.dropna()`**：删除包含缺失值的行或列。
- **`df.fillna()`**：填充缺失值。

- **`df.where()`**：将不满足条件的值替换为 NaN 或指定值。
- **`df.mask()`**：将满足条件的值替换为 NaN 或指定值。

### 5. 修改

- **`df.drop()`**：删除行或列。
- **`df.drop_duplicates()`**：删除重复行。
- **`df.rename()`**：重命名列名。
    
- **`df.assign()`**：添加新列。
- **`df.replace()`**：替换值。
- **`df.apply()`**：对 DataFrame 的列或行应用函数。

- **`df.applymap()`**：对 DataFrame 的每个元素应用函数。
- **`df.pipe()`**：对 DataFrame 应用多个函数。
    

### 6. 数据排序和分组

- **`df.sort_values()`**：按列值排序。
- **`df.sort_index()`**：按索引排序。
    
- **`df.groupby()`**：按列分组。
- **`df.agg()`**：对分组数据应用聚合函数。
- **`df.pivot_table()`**：创建透视表。
    

### 7. 数据合并

- **`pd.concat()`**：垂直或水平合并多个 DataFrame。
- **`pd.merge()`**：按列值合并两个 DataFrame。
- **`df.join()`**：按索引合并两个 DataFrame。
    

### 8. 数据转换和处理

- **`df.astype()`**：转换数据类型。
- **`df.copy()`**：创建 DataFrame 的副本。
- **`df.reset_index()`**：重置索引。
- **`df.set_index()`**：设置新索引。
    
- **`df.value_counts()`**：计算每个值的出现次数。
- **`df.unique()`**：获取唯一值。
- **`df.nunique()`**：计算唯一值的数量。
    
- **`df.duplicated()`**：查找重复行。
- **`df.sample()`**：随机抽取行。
- **`df.resample()`**：按时间频率重采样。
    

### 9. 时间序列处理
- **`pd.to_datetime()`**：将字符串转换为 datetime 类型。
- **`df.dt`**：访问 datetime 类型的属性，如年、月、日等。
- **`df.asfreq()`**：将时间序列转换为指定频率。
    
- **`df.shift()`**：将时间序列数据向前或向后移动。
- **`df.rolling()`**：计算滚动窗口统计量。
- **`df.expanding()`**：计算扩展窗口统计量。
    

### 10. 绘图

- **`df.plot()`**：绘制 DataFrame 的图表。
- **`df.hist()`**：绘制直方图。
- **`df.boxplot()`**：绘制箱线图。


# 三.Matplotlib
`matplotlib` 是 Python 中一个非常强大的绘图库，广泛用于数据可视化。它提供了丰富的绘图功能，可以生成各种静态、动态和交互式的图表。以下是一些常见的 `matplotlib` 函数及其用法：

### 导入 Matplotlib

通常，我们会导入 `matplotlib.pyplot` 模块，它提供了类似于 MATLAB 的绘图接口：

```python
import matplotlib.pyplot as plt
```

### 常见的绘图函数

#### 1. 绘制线图

```python
import matplotlib.pyplot as plt

# 数据
x = [1, 2, 3, 4, 5]
y = [2, 3, 5, 7, 11]

# 创建图形
plt.plot(x, y, label='Line 1')
plt.title('Line Plot')
plt.xlabel('X-axis')
plt.ylabel('Y-axis')
plt.legend()
plt.show()
```

#### 2. 绘制散点图

```python
import matplotlib.pyplot as plt

# 数据
x = [1, 2, 3, 4, 5]
y = [2, 3, 5, 7, 11]

# 创建图形
plt.scatter(x, y, color='red', label='Scatter Points')
plt.title('Scatter Plot')
plt.xlabel('X-axis')
plt.ylabel('Y-axis')
plt.legend()
plt.show()
```

#### 3. 绘制柱状图

```python
import matplotlib.pyplot as plt

# 数据
x = ['A', 'B', 'C', 'D', 'E']
y = [2, 3, 5, 7, 11]

# 创建图形
plt.bar(x, y, color='blue', label='Bars')
plt.title('Bar Plot')
plt.xlabel('Categories')
plt.ylabel('Values')
plt.legend()
plt.show()
```

#### 4. 绘制直方图

```python
import matplotlib.pyplot as plt
import numpy as np

# 数据
data = np.random.randn(1000)

# 创建图形
plt.hist(data, bins=30, color='green', alpha=0.7, label='Histogram')
plt.title('Histogram')
plt.xlabel('Values')
plt.ylabel('Frequency')
plt.legend()
plt.show()
```

#### 5. 绘制箱线图

```python
import matplotlib.pyplot as plt
import numpy as np

# 数据
data = np.random.randn(100)

# 创建图形
plt.boxplot(data)
plt.title('Box Plot')
plt.ylabel('Values')
plt.show()
```

#### 6. 绘制饼图

```python
import matplotlib.pyplot as plt

# 数据
labels = ['A', 'B', 'C', 'D', 'E']
sizes = [15, 30, 45, 10, 5]

# 创建图形
plt.pie(sizes, labels=labels, autopct='%1.1f%%', startangle=140)
plt.title('Pie Chart')
plt.show()
```

#### 7. 绘制多图

```python
import matplotlib.pyplot as plt
import numpy as np

# 数据
x = np.arange(1, 6)
y1 = x**2
y2 = x**3

# 创建图形
plt.figure(figsize=(10, 5))

# 第一个子图
plt.subplot(1, 2, 1)
plt.plot(x, y1, label='y = x^2')
plt.title('Subplot 1')
plt.xlabel('X-axis')
plt.ylabel('Y-axis')
plt.legend()

# 第二个子图
plt.subplot(1, 2, 2)
plt.plot(x, y2, label='y = x^3', color='red')
plt.title('Subplot 2')
plt.xlabel('X-axis')
plt.ylabel('Y-axis')
plt.legend()

plt.show()
```

### 自定义图形

#### 1. 设置图形大小

```python
plt.figure(figsize=(10, 5))
```

#### 2. 设置图形标题和标签

```python
plt.title('Title')
plt.xlabel('X-axis')
plt.ylabel('Y-axis')
```

#### 3. 添加图例

```python
plt.legend()
```

#### 4. 保存图形

```python
plt.savefig('plot.png')
```

### 交互式图形

#### 1. 使用 `plt.ion()` 和 `plt.ioff()`

```python
plt.ion()  # 开启交互模式
plt.plot([1, 2, 3])
plt.show()

# 进行一些操作

plt.ioff()  # 关闭交互模式
plt.show()
```

### 总结

这些是 `matplotlib` 中一些常见的函数及其用法。`matplotlib` 提供了丰富的绘图功能，可以生成各种静态、动态和交互式的图表。掌握这些基本操作可以帮助你更高效地进行数据可视化。如果有任何问题或需要进一步的解释，请随时提问。